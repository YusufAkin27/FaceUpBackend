<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>FaceUp - Görüşme</title>
    <link rel="stylesheet" href="call.css">
</head>
<body>
    <div class="call-container">
        <!-- Üst Bar -->
        <div class="top-bar">
            <button id="logoutBtn" class="logout-btn" title="Çıkış Yap">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                    <polyline points="16 17 21 12 16 7"></polyline>
                    <line x1="21" y1="12" x2="9" y2="12"></line>
                </svg>
                <span>Çıkış</span>
            </button>
            <div class="partner-info">
                <h3 id="partnerName">Eşleşme yapılıyor...</h3>
            </div>
        </div>

        <!-- Video Container -->
        <div class="video-container">
            <div class="video-wrapper remote">
                <video id="remoteVideo" autoplay playsinline></video>
            </div>
            <!-- Kendi Görselimiz - Küçük Kare Sağ Üstte -->
            <div class="video-wrapper local">
                <video id="localVideo" autoplay playsinline muted></video>
            </div>
        </div>

        <!-- Mesajlar - Ekranda Gösterilecek -->
        <div id="chatMessages" class="chat-messages-overlay"></div>
        
        <!-- Mesaj Input - Gizli, mesaj butonuna basıldığında açılacak -->
        <div class="chat-input-overlay" id="chatInputOverlay">
            <input type="text" id="messageInput" placeholder="Mesaj yazın..." maxlength="500">
            <button id="sendMessage" class="btn-send" title="Gönder">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="22" y1="2" x2="11" y2="13"></line>
                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                </svg>
            </button>
        </div>

        <!-- Kontrol Butonları -->
        <div class="controls">
            <!-- Menü Toggle Butonu -->
            <button id="menuToggleBtn" class="control-btn menu-toggle" title="Kontroller">
                <svg class="menu-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
                <svg class="close-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
            
            <!-- Gizli Kontrol Butonları -->
            <div class="control-buttons-wrapper">
                <button id="toggleVideo" class="control-btn" title="Kamerayı Aç/Kapat">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M23 7l-7 5 7 5V7z"></path>
                        <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
                    </svg>
                </button>
                <button id="toggleAudio" class="control-btn" title="Mikrofonu Aç/Kapat">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                        <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                        <line x1="12" y1="19" x2="12" y2="23"></line>
                        <line x1="8" y1="23" x2="16" y2="23"></line>
                    </svg>
                </button>
                <button id="toggleMessageBtn" class="control-btn message-btn" title="Mesaj Gönder">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="22" y1="2" x2="11" y2="13"></line>
                        <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                    </svg>
                </button>
                <button id="endCallBtn" class="control-btn end-call" title="Görüşmeyi Sonlandır">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Hata Mesajı -->
    <div id="errorToast" class="toast"></div>

    <!-- Socket.io CDN -->
    <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
    <script src="call.js"></script>
</body>
</html>

